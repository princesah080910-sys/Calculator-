<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Full-Screen Responsive Calculator</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #ff9a9e, #fad0c4);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .calculator {
        display: flex;
        flex-direction: column;
        width: 95vw;
        height: 95vh;
        max-width: 800px;  
        max-height: 900px;
        background: #1e1e1e;
        border-radius: 2vw;
        padding: 2vw;
        box-shadow: 0 1vw 2vw rgba(0,0,0,0.4);
        box-sizing: border-box;
    }

    .display {
        background: #000;
        color: #00ff99;
        flex: 1;
        font-size: 6vw;  
        text-align: right;
        padding: 2vw;
        border-radius: 1.5vw;
        margin-bottom: 2vw;
        min-height: 12vw;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        box-shadow: inset 0 0 1vw #00ff99;
        word-wrap: break-word;
    }

    .buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 2vw;
        flex: 2;
    }

    button {
        font-size: 4vw;
        border: none;
        border-radius: 1vw;
        cursor: pointer;
        background: #2c2c2c;
        color: #fff;
        transition: 0.2s;
        box-shadow: 0 0.5vw #1a1a1a;
        padding: 1.5vw;
        position: relative;
        overflow: hidden;
    }

    button:hover {
        transform: translateY(-0.3vw);
        box-shadow: 0 0.8vw #1a1a1a;
        background: linear-gradient(45deg, #ff6a00, #ffcc00);
        color: #000;
    }

    button:active {
        transform: translateY(0.3vw);
        box-shadow: 0 0.3vw #1a1a1a;
    }

    .operator { background: #ff9500; color: #fff; }
    .equal { background: #34c759; color: #fff; grid-column: span 2; }
    .clear { background: #ff3b30; color: #fff; }
    .back { background: #5555ff; color: #fff; }

    .loadingDots span {
        display: inline-block;
        animation: blink 1.2s infinite;
        font-weight: bold;
    }
    .loadingDots span:nth-child(1) { animation-delay: 0s; }
    .loadingDots span:nth-child(2) { animation-delay: 0.2s; }
    .loadingDots span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes blink {
        0%, 80%, 100% { opacity: 0; }
        40% { opacity: 1; }
    }

    @media (min-width: 1000px) {
        .display { font-size: 3vw; padding: 1.5vw; min-height: 5vw; }
        button { font-size: 2vw; padding: 1.2vw; border-radius: 0.8vw; }
    }
</style>
</head>
<body>

<div class="calculator">
    <div class="display" id="display">0</div>
    <div class="buttons">
        <button class="clear" onclick="clearDisplay()">C</button>
        <button class="back" onclick="backspace()">×</button>
        <button onclick="appendValue('%')">%</button>
        <button onclick="appendValue('/')">÷</button>

        <button onclick="appendValue('7')">7</button>
        <button onclick="appendValue('8')">8</button>
        <button onclick="appendValue('9')">9</button>
        <button class="operator" onclick="appendValue('*')">×</button>

        <button onclick="appendValue('4')">4</button>
        <button onclick="appendValue('5')">5</button>
        <button onclick="appendValue('6')">6</button>
        <button class="operator" onclick="appendValue('-')">-</button>

        <button onclick="appendValue('1')">1</button>
        <button onclick="appendValue('2')">2</button>
        <button onclick="appendValue('3')">3</button>
        <button class="operator" onclick="appendValue('+')">+</button>

        <button style="grid-column: span 2;" onclick="appendValue('0')">0</button>
        <button onclick="appendValue('.')">.</button>
        <button class="equal" onclick="calculate()">=</button>
    </div>
</div>

<script>
let display = document.getElementById('display');
let resetNext = false;

// Append values to display
function appendValue(val) {
    if (resetNext) { display.innerText = ''; resetNext = false; }
    if(display.innerText === '0' && val !== '.') { display.innerText = val; }
    else { display.innerText += val; }
}

// Clear all
function clearDisplay() {
    display.innerText = '0';
    resetNext = false;
}

// Backspace one character
function backspace() {
    if(resetNext) { display.innerText = '0'; resetNext = false; return; }
    display.innerText = display.innerText.slice(0, -1);
    if(display.innerText === '') display.innerText = '0';
}

// Calculate expression
async function calculate() {
    let expression = display.innerText.replace(/÷/g,'/').replace(/×/g,'*');
    if (!expression) return;

    let steps = [
        "Calculating", 
        "Initialising system",
        "Asking Mathematics God Prince",
        "Running useless algorithms",
        "Almost there"
    ];

    for (let step of steps) {
        display.innerHTML = step + ' <span class="loadingDots"><span>.</span><span>.</span><span>.</span></span>';
        await new Promise(res => setTimeout(res, 600));
    }

    try {
        expression = expression.replace(/(\d+)%/g, '($1/100)');
        let result = eval(expression);

        if(result === undefined || result === null || isNaN(result)) throw "Error"; // invalid input
        display.innerText = result;
    } catch {
        display.innerText = 'Error!!!'; // show error on invalid input
        resetNext = true; // next click auto reset
    }
}
</script>

</body>
</html>